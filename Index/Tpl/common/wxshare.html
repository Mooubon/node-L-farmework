<script src="/Public/js/jweixin-1.0.0.js"></script>
<script>
    var shareData = {
        title: "<%= share.title %>",
        link: "<%= share.link %>",
        imgUrl: "<%= share.img %>",
        desc: "<%= share.desc %>"
    }

    var qshareData = {
        title: "<%= share.qtitle %>",
        link: "<%= share.link %>",
        imgUrl: "<%= share.img %>"
    }

    var jsApiList = [];
    <% for(var i = 0; i < wxconfig.jsApiList.length; i++){ %>
    jsApiList.push("<%= wxconfig.jsApiList[i] %>");
    <% } %>
    wx.config({
        debug: "<%= wxconfig.debug %>" == "true",
        appId: "<%= wxconfig.appId %>",
        timestamp: "<%= wxconfig.timestamp %>",
        nonceStr: "<%= wxconfig.nonceStr %>",
        signature: "<%= wxconfig.signature %>",
        jsApiList: jsApiList
    });
    wx.ready(function () {
        wx.onMenuShareTimeline(shareData);
        wx.onMenuShareAppMessage(qshareData);
    });
</script>